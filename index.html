<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <style>
    :root{
      --bg:#0a0a0f;
      --card:rgba(15,15,20,.78);
      --text:#f6f2ff;
      --muted:rgba(246,242,255,.6);

      --green:#b7ff2a;   /* Accueil */
      --blue:#4fd1ff;    /* Contact */
      --pink:#ff7ae6;    /* Canal */

      --shadow:0 12px 30px rgba(0,0,0,.45);
    }

    *{box-sizing:border-box}

    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
      color:var(--text);
      background:var(--bg);
      padding-bottom:80px;
      overflow-x:hidden; /* ‚úÖ √©vite le scroll horizontal pendant le slide */
    }

    /* üè† Image plein √©cran seulement sur Accueil */
    #home{
      min-height:100vh;
      background:url("generalbot.jpg") center center / cover no-repeat;
    }
    #home::before{
      content:"";
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.18);
      pointer-events:none;
    }

    /* Pages propres */
    #contact, #channel{
      min-height:100vh;
      background:linear-gradient(180deg, rgba(10,10,15,.95), rgba(10,10,15,.85));
    }

    /* ‚úÖ Pages en mode "slide" */
    .page{
      display:block;
      position:absolute;
      top:0; left:0; right:0;
      padding:16px;
      max-width:560px;
      margin:0 auto;
      opacity:0;
      transform:translateX(18px);
      pointer-events:none;
      transition:transform .26s ease, opacity .26s ease;
      will-change:transform, opacity;
    }
    .page.active{
      opacity:1;
      transform:translateX(0);
      pointer-events:auto;
    }
    .page.exit-left{
      opacity:0;
      transform:translateX(-18px);
    }
    .page.exit-right{
      opacity:0;
      transform:translateX(18px);
    }

    /* wrapper pour garantir hauteur */
    .pages{
      position:relative;
      min-height:100vh;
    }

    h2{margin:6px 0 14px}

    .list{
      background:var(--card);
      border-radius:16px;
      overflow:hidden;
      box-shadow:var(--shadow);
    }

    .row{
      display:flex;
      align-items:center;
      gap:12px;
      padding:14px;
      border-bottom:1px solid rgba(255,255,255,.08);
      cursor:pointer;
      user-select:none;
    }
    .row:last-child{border-bottom:none}

    .avatar{
      width:44px;height:44px;
      border-radius:14px;
      background:rgba(0,0,0,.25);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:900;
      border:1px solid rgba(255,255,255,.10);
    }

    .meta{flex:1}
    .name{font-weight:900}
    .user{font-size:12px;color:var(--muted)}

    .btn{
      display:block;
      width:100%;
      margin-top:16px;
      padding:14px;
      border-radius:14px;
      border:none;
      font-weight:900;
      cursor:pointer;
    }
    .btn.contact{background:var(--blue); color:#000}
    .btn.channel{background:var(--pink); color:#000}

    /* üîª NAV BAR */
    .nav{
      position:fixed;
      bottom:0;left:0;right:0;
      background:#0e1b0f;
      display:flex;
      justify-content:space-around;
      padding:10px 0 12px;
      border-top:1px solid rgba(255,255,255,.08);
      z-index:10;
    }

    .nav-item{
      display:flex;
      flex-direction:column;
      align-items:center;
      font-size:12px;
      cursor:pointer;
      gap:4px;
      opacity:.65;
      transition:opacity .18s ease;
    }

    .nav-item svg{
      width:26px;height:26px;
      stroke:currentColor;
      fill:none;
      stroke-width:2;
      stroke-linecap:round;
      stroke-linejoin:round;
      opacity:.95;
    }

    /* üé® Couleur par ic√¥ne */
    .nav-home{color:var(--green)}
    .nav-contact{color:var(--blue)}
    .nav-channel{color:var(--pink)}

    /* üî• Actif = full opacity + glow */
    .nav-item.active{
      opacity:1;
      text-shadow:0 0 14px currentColor;
    }
  </style>
</head>

<body>
  <div class="pages">
    <!-- üè† ACCUEIL -->
    <div id="home" class="page active">
      <h2>Mes bots</h2>
      <div class="list" id="list"></div>
    </div>

    <!-- üìû CONTACT -->
    <div id="contact" class="page">
      <h2>Contact</h2>
      <p style="color:var(--muted)">Besoin d‚Äôaide ou de renseignements ?</p>
      <button class="btn contact" data-haptic="true" onclick="openLink('https://t.me/kssbdr')">
        Contacter @kssbdr
      </button>
    </div>

    <!-- üì¢ CANAL -->
    <div id="channel" class="page">
      <h2>Canal Telegram</h2>
      <p style="color:var(--muted)">Rejoins le canal pour les infos & nouveaut√©s.</p>
      <button class="btn channel" data-haptic="true" onclick="openLink('https://t.me/+6K0C-ZPVV_tlZWY0')">
        Rejoindre le canal
      </button>
    </div>
  </div>

  <!-- üîª NAV -->
  <div class="nav">
    <div class="nav-item nav-home active" onclick="navigateTo('home', this)">
      <!-- home -->
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M3 10.5L12 3l9 7.5"></path>
        <path d="M5 10v10h14V10"></path>
      </svg>
      Accueil
    </div>

    <div class="nav-item nav-contact" onclick="navigateTo('contact', this)">
      <!-- info -->
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <circle cx="12" cy="12" r="9"></circle>
        <path d="M12 10v7"></path>
        <path d="M12 7h.01"></path>
      </svg>
      Contact
    </div>

    <div class="nav-item nav-channel" onclick="navigateTo('channel', this)">
      <!-- ‚úÖ m√©gaphone (plus de panier) -->
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M4 11v2"></path>
        <path d="M6 10v4"></path>
        <path d="M8 9v6"></path>
        <path d="M10 10l10-4v12l-10-4z"></path>
        <path d="M9 15l1.5 4.5"></path>
      </svg>
      Canal
    </div>
  </div>

  <script>
    if (window.Telegram?.WebApp) Telegram.WebApp.ready();

    const BOTS = [
      { name:"Formation", username:"FFFormaBot", avatarText:"FF" },
      { name:"Inscription", username:"fxcessssssBot", avatarText:"IN" },
      { name:"Questionnaire", username:"kassreply_bot", avatarText:"QS" },
    ];

    const listEl = document.getElementById("list");

    function haptic(type="selection"){
      const hf = window.Telegram?.WebApp?.HapticFeedback;
      if (!hf) return;

      // type: "selection" | "light" | "medium" | "heavy"
      if (type === "selection") hf.selectionChanged();
      else hf.impactOccurred(type);
    }

    function openLink(url){
      haptic("light");
      if (Telegram?.WebApp?.openTelegramLink) Telegram.WebApp.openTelegramLink(url);
      else window.location.href = url;
    }

    function renderBots(){
      listEl.innerHTML="";
      BOTS.forEach(bot=>{
        const row=document.createElement("div");
        row.className="row";
        row.innerHTML=`
          <div class="avatar">${bot.avatarText}</div>
          <div class="meta">
            <div class="name">${bot.name}</div>
            <div class="user">@${bot.username}</div>
          </div>`;
        row.onclick=()=>{
          haptic("selection");
          openLink(`https://t.me/${bot.username}`);
        };
        listEl.appendChild(row);
      });
    }

    let currentPageId = "home";
    const order = ["home","contact","channel"];

    function navigateTo(id, el){
      if (id === currentPageId) return;

      haptic("selection");

      const current = document.getElementById(currentPageId);
      const next = document.getElementById(id);

      const curIdx = order.indexOf(currentPageId);
      const nextIdx = order.indexOf(id);
      const goingRight = nextIdx > curIdx;

      // sortie de la page actuelle
      current.classList.remove("active");
      current.classList.remove("exit-left","exit-right");
      current.classList.add(goingRight ? "exit-left" : "exit-right");

      // entr√©e de la nouvelle page
      next.classList.remove("exit-left","exit-right");
      next.classList.add("active");

      // nettoyage apr√®s l'animation
      setTimeout(()=>{
        current.classList.remove("exit-left","exit-right");
      }, 300);

      // nav active state
      document.querySelectorAll(".nav-item").forEach(n=>n.classList.remove("active"));
      el.classList.add("active");

      currentPageId = id;
    }

    // Haptic l√©ger sur boutons (au cas o√π)
    document.addEventListener("click", (e)=>{
      const t = e.target;
      if (t && t.matches("[data-haptic='true']")) haptic("light");
    });

    renderBots();
  </script>
</body>
</html>

